# KKTHK - สแกนบาร์โค้ดบัตรเลือกตั้ง

แอปเว็บสำหรับสแกนบาร์โค้ดบัตรเลือกตั้ง แล้วนำค่าที่ได้ไปคำนวณ **เล่มบัตร** ตาม logic ที่กำหนด

## เทคโนโลยี

- **Vite** + **React 18** + **TypeScript**
- **Tailwind CSS**
- **@ericblade/quagga2** สำหรับอ่านบาร์โค้ดจากกล้องและจากรูปภาพ (รองรับ Code 128, Code 39 และบาร์โค้ด 1D อื่นๆ)

## วิธีรัน

```bash
npm install
npm run dev
```

เปิดเบราว์เซอร์ที่ `http://localhost:5173`

## ฟีเจอร์

1. **สแกนจากกล้อง** – กด "เปิดกล้องสแกน" แล้วถือบาร์โค้ดให้อยู่ในกรอบ ระบบจะอ่านและคำนวณเล่มให้อัตโนมัติ
2. **เลือกรูปจากอัลบั้ม** – กด "เลือกจากอัลบั้ม" แล้วเลือกรูปที่มีบาร์โค้ดจากเครื่อง (หรือจากกล้องถ่ายไว้ก่อน)
3. **กรอกมือ** – กรอกเลขบัตรเลือกตั้งในช่อง (เช่น `A0000001`) แล้วกด "คำนวณ"

ค่าที่ได้จากบาร์โค้ดหรือการกรอกจะถูกส่งเข้า logic `getBallotBookId(ballotId)` ใน `src/utils/ballot.ts` เพื่อแสดงผล **เล่มที่ : X0000001** ตามสูตร (prefix + เลขลำดับเล่ม, 20 บัตรต่อเล่ม)

## โครงสร้างสำคัญ

- `src/App.tsx` – หน้า UI หลัก (กล้อง, ปุ่มอัลบั้ม, ช่องกรอก, แสดงผล)
- `src/hooks/useBarcodeScanner.ts` – hook สำหรับสแกนจากกล้องและจากไฟล์รูป
- `src/utils/ballot.ts` – ฟังก์ชัน `getBallotBookId()` และ `validateBallotId()`

## Build

```bash
npm run build
```

ผลลัพธ์อยู่ในโฟลเดอร์ `dist/` สำหรับนำไป deploy
